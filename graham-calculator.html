<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>æ ¼é›·å„å§†é‡åŒ–è®¡ç®—å™¨</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&family=Share+Tech+Mono&family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0a0c10;
    --surface: #111418;
    --surface2: #1a1f27;
    --border: #2a3040;
    --accent: #c8a84b;
    --accent2: #e8c56a;
    --green: #3ddc84;
    --yellow: #f0b429;
    --red: #ff5a5f;
    --text: #e8e4d8;
    --muted: #7a8090;
    --mono: 'Share Tech Mono', monospace;
    --serif: 'Noto Serif SC', serif;
    --sans: 'Rajdhani', sans-serif;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: var(--serif);
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* Header */
  header {
    background: linear-gradient(135deg, #0f1218 0%, #1a1410 100%);
    border-bottom: 1px solid var(--accent);
    padding: 18px 16px 14px;
    position: sticky;
    top: 0;
    z-index: 100;
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .logo-mark {
    width: 36px;
    height: 36px;
    border: 2px solid var(--accent);
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: var(--sans);
    font-weight: 700;
    font-size: 14px;
    color: var(--accent);
    letter-spacing: 1px;
    flex-shrink: 0;
    position: relative;
    overflow: hidden;
  }
  .logo-mark::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(45deg, transparent 40%, rgba(200,168,75,0.15) 50%, transparent 60%);
    animation: shine 4s infinite;
  }
  @keyframes shine { 0%,100% { transform: rotate(0deg); } 50% { transform: rotate(180deg); } }

  header h1 {
    font-size: 17px;
    font-weight: 700;
    color: var(--accent2);
    letter-spacing: 2px;
    line-height: 1.2;
  }
  header p {
    font-size: 11px;
    color: var(--muted);
    font-family: var(--mono);
    letter-spacing: 1px;
    margin-top: 2px;
  }

  /* Tab nav */
  .tab-nav {
    display: flex;
    background: var(--surface);
    border-bottom: 1px solid var(--border);
    overflow-x: auto;
    scrollbar-width: none;
    position: sticky;
    top: 69px;
    z-index: 99;
  }
  .tab-nav::-webkit-scrollbar { display: none; }
  .tab-btn {
    flex-shrink: 0;
    padding: 10px 14px;
    font-size: 12px;
    font-family: var(--mono);
    color: var(--muted);
    background: none;
    border: none;
    border-bottom: 2px solid transparent;
    cursor: pointer;
    letter-spacing: 0.5px;
    transition: all 0.2s;
    white-space: nowrap;
  }
  .tab-btn.active {
    color: var(--accent2);
    border-bottom-color: var(--accent);
    background: rgba(200,168,75,0.05);
  }

  /* Content */
  .tab-content { display: none; padding: 16px; }
  .tab-content.active { display: block; }

  /* Card */
  .card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 4px;
    padding: 16px;
    margin-bottom: 14px;
    position: relative;
    overflow: hidden;
  }
  .card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 3px;
    height: 100%;
    background: var(--accent);
  }
  .card-title {
    font-family: var(--sans);
    font-size: 13px;
    font-weight: 700;
    color: var(--accent);
    letter-spacing: 2px;
    text-transform: uppercase;
    margin-bottom: 14px;
    padding-left: 10px;
  }

  /* Input group */
  .input-group {
    margin-bottom: 12px;
  }
  label {
    display: block;
    font-size: 11px;
    color: var(--muted);
    font-family: var(--mono);
    letter-spacing: 1px;
    margin-bottom: 5px;
  }
  input[type="number"], input[type="text"], textarea {
    width: 100%;
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 3px;
    padding: 9px 12px;
    color: var(--text);
    font-family: var(--mono);
    font-size: 14px;
    outline: none;
    transition: border-color 0.2s;
    -webkit-appearance: none;
  }
  input:focus, textarea:focus {
    border-color: var(--accent);
    box-shadow: 0 0 0 2px rgba(200,168,75,0.1);
  }
  textarea {
    resize: vertical;
    min-height: 120px;
    font-size: 13px;
    line-height: 1.6;
  }

  /* Grid */
  .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }

  /* Button */
  .btn {
    background: linear-gradient(135deg, #c8a84b, #a87e2a);
    color: #0a0c10;
    border: none;
    border-radius: 3px;
    padding: 10px 18px;
    font-family: var(--sans);
    font-size: 14px;
    font-weight: 700;
    letter-spacing: 1px;
    cursor: pointer;
    width: 100%;
    transition: all 0.2s;
    margin-top: 4px;
  }
  .btn:active { transform: scale(0.98); opacity: 0.9; }
  .btn-sm {
    padding: 7px 12px;
    font-size: 12px;
    width: auto;
    display: inline-block;
  }
  .btn-ghost {
    background: transparent;
    color: var(--accent);
    border: 1px solid var(--accent);
  }
  .btn-danger {
    background: transparent;
    color: var(--red);
    border: 1px solid rgba(255,90,95,0.4);
  }

  /* Result display */
  .result-box {
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 3px;
    padding: 12px;
    margin-top: 12px;
    display: none;
  }
  .result-box.show { display: block; }
  .result-label {
    font-size: 10px;
    color: var(--muted);
    font-family: var(--mono);
    letter-spacing: 1.5px;
    text-transform: uppercase;
    margin-bottom: 4px;
  }
  .result-value {
    font-family: var(--mono);
    font-size: 22px;
    color: var(--accent2);
    font-weight: 400;
  }
  .result-value small {
    font-size: 12px;
    color: var(--muted);
    margin-left: 6px;
  }

  /* Badge */
  .badge {
    display: inline-block;
    padding: 3px 10px;
    border-radius: 2px;
    font-size: 12px;
    font-family: var(--sans);
    font-weight: 700;
    letter-spacing: 1px;
  }
  .badge-high { background: rgba(61,220,132,0.15); color: var(--green); border: 1px solid rgba(61,220,132,0.4); }
  .badge-mid { background: rgba(240,180,41,0.15); color: var(--yellow); border: 1px solid rgba(240,180,41,0.4); }
  .badge-low { background: rgba(255,90,95,0.15); color: var(--red); border: 1px solid rgba(255,90,95,0.4); }

  /* EPS list */
  .eps-list { list-style: none; margin: 10px 0; }
  .eps-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 6px 0;
    border-bottom: 1px solid var(--border);
    font-family: var(--mono);
    font-size: 14px;
  }
  .eps-item span { flex: 1; color: var(--accent2); }
  .eps-item small { color: var(--muted); font-size: 11px; }

  /* Divider */
  .divider {
    border: none;
    border-top: 1px solid var(--border);
    margin: 12px 0;
  }

  /* AI prompt area */
  .prompt-box {
    position: relative;
  }
  .copy-btn {
    position: absolute;
    top: 8px;
    right: 8px;
    background: rgba(200,168,75,0.15);
    border: 1px solid rgba(200,168,75,0.3);
    color: var(--accent);
    border-radius: 2px;
    padding: 4px 10px;
    font-size: 11px;
    font-family: var(--mono);
    cursor: pointer;
    transition: all 0.2s;
  }
  .copy-btn:active { background: rgba(200,168,75,0.3); }

  /* Metrics row */
  .metric-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 6px 0;
    border-bottom: 1px solid rgba(42,48,64,0.5);
  }
  .metric-row:last-child { border-bottom: none; }
  .metric-name { font-size: 12px; color: var(--muted); font-family: var(--mono); }
  .metric-val { font-size: 13px; color: var(--text); font-family: var(--mono); }

  /* Formula hint */
  .formula {
    font-size: 11px;
    color: var(--muted);
    font-family: var(--mono);
    padding: 8px;
    background: rgba(0,0,0,0.3);
    border-radius: 2px;
    margin-bottom: 10px;
    line-height: 1.6;
  }

  /* Floating calc hint */
  .calc-hint {
    font-size: 11px;
    color: var(--muted);
    font-family: var(--mono);
    padding: 4px 0;
    text-align: right;
  }

  /* Section heading */
  .sec-head {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 10px;
  }
  .sec-head-line {
    flex: 1;
    height: 1px;
    background: var(--border);
  }
  .sec-head-text {
    font-size: 10px;
    color: var(--muted);
    font-family: var(--mono);
    letter-spacing: 2px;
    white-space: nowrap;
  }

  /* Result section */
  .result-section {
    background: rgba(200,168,75,0.03);
    border: 1px solid rgba(200,168,75,0.15);
    border-radius: 3px;
    padding: 12px;
    margin-top: 12px;
  }
  .result-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    margin-top: 8px;
  }
  .result-item {
    text-align: center;
    padding: 8px;
    background: var(--surface2);
    border-radius: 2px;
  }
  .result-item .ri-label { font-size: 10px; color: var(--muted); font-family: var(--mono); }
  .result-item .ri-val { font-size: 16px; color: var(--accent2); font-family: var(--mono); margin-top: 2px; }

  /* Toast */
  .toast {
    position: fixed;
    bottom: 24px;
    left: 50%;
    transform: translateX(-50%) translateY(80px);
    background: #2a3040;
    color: var(--text);
    padding: 10px 20px;
    border-radius: 4px;
    font-size: 13px;
    font-family: var(--mono);
    z-index: 999;
    transition: transform 0.3s;
    white-space: nowrap;
    border: 1px solid var(--accent);
  }
  .toast.show { transform: translateX(-50%) translateY(0); }

  /* Indicator icons */
  .ind-icon { font-size: 18px; margin-right: 4px; }

  /* Add EPS row */
  .add-eps-row {
    display: flex;
    gap: 8px;
    margin-bottom: 8px;
    align-items: flex-end;
  }
  .add-eps-row .input-group { flex: 1; margin-bottom: 0; }

  /* Overall verdict */
  .verdict {
    background: linear-gradient(135deg, rgba(200,168,75,0.08), rgba(200,168,75,0.02));
    border: 1px solid rgba(200,168,75,0.3);
    border-radius: 4px;
    padding: 14px;
    text-align: center;
    margin-top: 14px;
  }
  .verdict-title { font-size: 11px; color: var(--muted); font-family: var(--mono); letter-spacing: 2px; margin-bottom: 8px; }
  .verdict-score { font-size: 32px; font-family: var(--sans); font-weight: 700; color: var(--accent2); }
  .verdict-sub { font-size: 12px; color: var(--muted); font-family: var(--mono); margin-top: 4px; }
</style>
</head>
<body>

<header>
  <div class="logo-mark">GV</div>
  <div>
    <h1>æ ¼é›·å„å§†é‡åŒ–</h1>
    <p>GRAHAM VALUE CALCULATOR</p>
  </div>
</header>

<div class="tab-nav">
  <button class="tab-btn active" onclick="switchTab('input')">ğŸ“Š åŸºç¡€æŒ‡æ ‡</button>
  <button class="tab-btn" onclick="switchTab('eps')">ğŸ“ˆ EPSå‡å€¼</button>
  <button class="tab-btn" onclick="switchTab('iv')">ğŸ’ å†…åœ¨ä»·å€¼</button>
  <button class="tab-btn" onclick="switchTab('ncav')">âš–ï¸ NCAV</button>
  <button class="tab-btn" onclick="switchTab('ai')">ğŸ¤– AIæç¤ºè¯</button>
</div>

<!-- Tab 1: åŸºç¡€æŒ‡æ ‡ -->
<div id="tab-input" class="tab-content active">
  <div class="card">
    <div class="card-title">ä¼°å€¼æŒ‡æ ‡è¾“å…¥</div>
    <div class="grid-2">
      <div class="input-group">
        <label>å¸‚ç›ˆç‡ P/E</label>
        <input type="number" id="pe" placeholder="å¦‚: 10" step="0.01" oninput="syncAll()">
      </div>
      <div class="input-group">
        <label>å¸‚å‡€ç‡ P/B</label>
        <input type="number" id="pb" placeholder="å¦‚: 1.2" step="0.01" oninput="syncAll()">
      </div>
    </div>
    <div class="input-group">
      <label>æµåŠ¨æ¯”ç‡ï¼ˆæµåŠ¨èµ„äº§/æµåŠ¨è´Ÿå€ºï¼‰</label>
      <input type="number" id="cr" placeholder="å»ºè®® â‰¥ 2" step="0.01" oninput="syncAll()">
    </div>
    <div class="grid-2">
      <div class="input-group">
        <label>æµåŠ¨èµ„äº§ï¼ˆä¸‡å…ƒï¼‰</label>
        <input type="number" id="currentAssets" placeholder="0" step="0.01" oninput="syncAll()">
      </div>
      <div class="input-group">
        <label>å…¨éƒ¨è´Ÿå€ºï¼ˆä¸‡å…ƒï¼‰</label>
        <input type="number" id="totalLiab" placeholder="0" step="0.01" oninput="syncAll()">
      </div>
    </div>
    <div class="grid-2">
      <div class="input-group">
        <label>æµåŠ¨è´Ÿå€ºï¼ˆä¸‡å…ƒï¼‰</label>
        <input type="number" id="currentLiab" placeholder="0" step="0.01" oninput="syncAll()">
      </div>
      <div class="input-group">
        <label>æ€»è‚¡æœ¬ï¼ˆä¸‡è‚¡ï¼‰</label>
        <input type="number" id="totalShares" placeholder="0" step="0.01" oninput="syncAll()">
      </div>
    </div>
    <div class="input-group">
      <label>å½“å‰è‚¡ä»·ï¼ˆå…ƒï¼‰</label>
      <input type="number" id="stockPrice" placeholder="0.00" step="0.01" oninput="syncAll()">
    </div>
  </div>

  <div class="card">
    <div class="card-title">æ ¼é›·å„å§†é€‰è‚¡æ ‡å‡†</div>
    <div class="formula">
      PE Ã— PB â‰¤ 22.5ï¼ˆå»‰ä»·è‚¡æ ¸å¿ƒæ¡ä»¶ï¼‰<br>
      æµåŠ¨æ¯”ç‡ â‰¥ 2<br>
      NCAV = æµåŠ¨èµ„äº§ - å…¨éƒ¨è´Ÿå€º<br>
      è‚¡ä»· &lt; NCAV/è‚¡ Ã— 2/3
    </div>
    <div id="basic-check"></div>
  </div>
</div>

<!-- Tab 2: EPSå‡å€¼ -->
<div id="tab-eps" class="tab-content">
  <div class="card">
    <div class="card-title">æ¯è‚¡æ”¶ç›Š EPS å†å²æ•°æ®</div>
    <p style="font-size:12px;color:var(--muted);font-family:var(--mono);margin-bottom:12px;">è¾“å…¥å¤šå¹´EPSæ•°æ®è®¡ç®—å‡å€¼ï¼Œç”¨äºå†…åœ¨ä»·å€¼ä¼°ç®—</p>

    <div class="add-eps-row">
      <div class="input-group">
        <label>å¹´ä»½ï¼ˆå¯é€‰ï¼‰</label>
        <input type="text" id="epsYear" placeholder="å¦‚: 2024">
      </div>
      <div class="input-group">
        <label>EPSï¼ˆå…ƒï¼‰</label>
        <input type="number" id="epsInput" placeholder="0.00" step="0.001">
      </div>
      <button class="btn btn-ghost btn-sm" onclick="addEPS()" style="margin-bottom:1px;">+ æ·»åŠ </button>
    </div>

    <ul class="eps-list" id="eps-list"></ul>

    <div id="eps-result" class="result-section" style="display:none;">
      <div style="display:flex;justify-content:space-between;align-items:center;">
        <span style="font-size:11px;color:var(--muted);font-family:var(--mono);">EPS å‡å€¼</span>
        <span class="badge badge-high" id="eps-count-badge">0 å¹´</span>
      </div>
      <div style="font-size:28px;color:var(--accent2);font-family:var(--mono);margin-top:6px;" id="eps-avg-display">â€”</div>
      <div class="result-grid">
        <div class="result-item">
          <div class="ri-label">æœ€é«˜å€¼</div>
          <div class="ri-val" id="eps-max">â€”</div>
        </div>
        <div class="result-item">
          <div class="ri-label">æœ€ä½å€¼</div>
          <div class="ri-val" id="eps-min">â€”</div>
        </div>
        <div class="result-item">
          <div class="ri-label">ä¸­ä½æ•°</div>
          <div class="ri-val" id="eps-median">â€”</div>
        </div>
        <div class="result-item">
          <div class="ri-label">æ•°æ®ç‚¹</div>
          <div class="ri-val" id="eps-count">â€”</div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Tab 3: å†…åœ¨ä»·å€¼ -->
<div id="tab-iv" class="tab-content">
  <div class="card">
    <div class="card-title">å†…åœ¨ä»·å€¼è®¡ç®—</div>
    <div class="formula">
      å†…åœ¨ä»·å€¼ = EPSå‡å€¼ Ã— ä¼°å€¼å€æ•°<br>
      å®‰å…¨è¾¹é™…ä»·æ ¼ = è‚¡ä»· Ã— 1.5<br>
      åˆ¤æ–­ï¼šå†…åœ¨ä»·å€¼ vs å®‰å…¨è¾¹é™…ä»·æ ¼
    </div>

    <div class="input-group">
      <label>EPS å‡å€¼ï¼ˆè‡ªåŠ¨è¯»å– / å¯æ‰‹åŠ¨è¦†ç›–ï¼‰</label>
      <input type="number" id="ivEps" placeholder="ä»EPSå‡å€¼è®¡ç®—å™¨è·å–" step="0.001" oninput="calcIV()">
    </div>
    <div class="input-group">
      <label>ä¼°å€¼å€æ•°ï¼ˆé»˜è®¤ 13ï¼Œæ ¼é›·å„å§†æ¨è 8-15ï¼‰</label>
      <input type="number" id="ivMultiple" value="13" step="0.5" oninput="calcIV()">
    </div>
    <div class="input-group">
      <label>å½“å‰è‚¡ä»·ï¼ˆè‡ªåŠ¨è¯»å– / å¯æ‰‹åŠ¨è¦†ç›–ï¼‰</label>
      <input type="number" id="ivPrice" placeholder="å…ƒ" step="0.01" oninput="calcIV()">
    </div>

    <div id="iv-result" class="result-section" style="display:none;">
      <div class="result-grid">
        <div class="result-item">
          <div class="ri-label">å†…åœ¨ä»·å€¼</div>
          <div class="ri-val" id="iv-value">â€”</div>
        </div>
        <div class="result-item">
          <div class="ri-label">å®‰å…¨è¾¹é™…çº¿</div>
          <div class="ri-val" id="iv-safety">â€”</div>
        </div>
      </div>
      <div style="margin-top:12px;text-align:center;">
        <div style="font-size:11px;color:var(--muted);font-family:var(--mono);margin-bottom:6px;">å†…åœ¨ä»·å€¼åˆ¤æ–­</div>
        <div id="iv-badge"></div>
        <div id="iv-detail" style="font-size:11px;color:var(--muted);font-family:var(--mono);margin-top:6px;"></div>
      </div>
    </div>
  </div>
</div>

<!-- Tab 4: NCAV -->
<div id="tab-ncav" class="tab-content">
  <div class="card">
    <div class="card-title">NCAV å‡€æµåŠ¨èµ„äº§ä»·å€¼</div>
    <div class="formula">
      NCAV = æµåŠ¨èµ„äº§ - å…¨éƒ¨è´Ÿå€º<br>
      æ¯è‚¡NCAV = (æµåŠ¨èµ„äº§ - æµåŠ¨è´Ÿå€º) / æ€»è‚¡æœ¬<br>
      å»‰ä»·æ ‡å‡†ï¼šè‚¡ä»· &lt; NCAV Ã— 2/3
    </div>

    <div id="ncav-data-hint" style="font-size:12px;color:var(--accent);font-family:var(--mono);padding:8px;background:rgba(200,168,75,0.05);border-radius:2px;margin-bottom:10px;">
      âœ“ æ•°æ®æ¥æºï¼šåŸºç¡€æŒ‡æ ‡é¡µé¢è¾“å…¥
    </div>

    <div class="grid-2">
      <div class="input-group">
        <label>æµåŠ¨èµ„äº§ï¼ˆä¸‡å…ƒï¼‰</label>
        <input type="number" id="ncavCA" placeholder="0" step="0.01" oninput="calcNCAV()">
      </div>
      <div class="input-group">
        <label>å…¨éƒ¨è´Ÿå€ºï¼ˆä¸‡å…ƒï¼‰</label>
        <input type="number" id="ncavTL" placeholder="0" step="0.01" oninput="calcNCAV()">
      </div>
      <div class="input-group">
        <label>æµåŠ¨è´Ÿå€ºï¼ˆä¸‡å…ƒï¼‰</label>
        <input type="number" id="ncavCL" placeholder="0" step="0.01" oninput="calcNCAV()">
      </div>
      <div class="input-group">
        <label>æ€»è‚¡æœ¬ï¼ˆä¸‡è‚¡ï¼‰</label>
        <input type="number" id="ncavShares" placeholder="0" step="0.01" oninput="calcNCAV()">
      </div>
    </div>
    <div class="input-group">
      <label>å½“å‰è‚¡ä»·ï¼ˆå…ƒï¼‰</label>
      <input type="number" id="ncavPrice" placeholder="0.00" step="0.01" oninput="calcNCAV()">
    </div>

    <div id="ncav-result" class="result-section" style="display:none;">
      <div class="result-grid">
        <div class="result-item">
          <div class="ri-label">NCAVæ€»å€¼ï¼ˆä¸‡å…ƒï¼‰</div>
          <div class="ri-val" id="ncav-total">â€”</div>
        </div>
        <div class="result-item">
          <div class="ri-label">æ¯è‚¡NCAVï¼ˆå…ƒï¼‰</div>
          <div class="ri-val" id="ncav-per">â€”</div>
        </div>
        <div class="result-item">
          <div class="ri-label">2/3 NCAVçº¿ï¼ˆå…ƒï¼‰</div>
          <div class="ri-val" id="ncav-two3">â€”</div>
        </div>
        <div class="result-item">
          <div class="ri-label">è‚¡ä»·/NCAVæ¯”</div>
          <div class="ri-val" id="ncav-ratio">â€”</div>
        </div>
      </div>

      <hr class="divider">

      <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;">
        <div style="text-align:center;">
          <div style="font-size:10px;color:var(--muted);font-family:var(--mono);margin-bottom:6px;">å†…åœ¨ä»·å€¼2<br><span style="font-size:9px;">(NCAVæ³•)</span></div>
          <div id="ncav-badge2"></div>
          <div id="ncav-detail2" style="font-size:10px;color:var(--muted);font-family:var(--mono);margin-top:4px;"></div>
        </div>
        <div style="text-align:center;">
          <div style="font-size:10px;color:var(--muted);font-family:var(--mono);margin-bottom:6px;">å†…åœ¨ä»·å€¼3<br><span style="font-size:9px;">(æ¯è‚¡NCAVæ³•)</span></div>
          <div id="ncav-badge3"></div>
          <div id="ncav-detail3" style="font-size:10px;color:var(--muted);font-family:var(--mono);margin-top:4px;"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Summary -->
  <div id="summary-card" class="card" style="display:none;">
    <div class="card-title">ç»¼åˆè¯„çº§</div>
    <div class="verdict">
      <div class="verdict-title">GRAHAM SCORE</div>
      <div class="verdict-score" id="summary-score">â€”</div>
      <div class="verdict-sub" id="summary-sub"></div>
    </div>
    <div id="summary-details" style="margin-top:12px;"></div>
  </div>
</div>

<!-- Tab 5: AIæç¤ºè¯ -->
<div id="tab-ai" class="tab-content">
  <div class="card">
    <div class="card-title">AI é€‰è‚¡æç¤ºè¯ç”Ÿæˆ</div>
    <p style="font-size:12px;color:var(--muted);font-family:var(--mono);margin-bottom:12px;">æ ¹æ®æ ¼é›·å„å§†æŒ‡æ ‡è‡ªåŠ¨ç”Ÿæˆå¯ç›´æ¥ç”¨äºç‚’è‚¡è½¯ä»¶AIçš„æç¤ºè¯</p>

    <div class="grid-2">
      <div class="input-group">
        <label>æœ€å¤§å¸‚ç›ˆç‡ P/E â‰¤</label>
        <input type="number" id="ai-pe" placeholder="10" step="0.5" value="10" oninput="genPrompt()">
      </div>
      <div class="input-group">
        <label>æœ€å¤§å¸‚å‡€ç‡ P/B â‰¤</label>
        <input type="number" id="ai-pb" placeholder="1.5" step="0.1" value="1.5" oninput="genPrompt()">
      </div>
      <div class="input-group">
        <label>æœ€å°æµåŠ¨æ¯”ç‡ â‰¥</label>
        <input type="number" id="ai-cr" placeholder="2" step="0.1" value="2" oninput="genPrompt()">
      </div>
      <div class="input-group">
        <label>PEÃ—PB ä¹˜ç§¯ â‰¤</label>
        <input type="number" id="ai-pepb" placeholder="22.5" step="0.5" value="22.5" oninput="genPrompt()">
      </div>
    </div>
    <div class="grid-2">
      <div class="input-group">
        <label>æœ€å°å¸‚å€¼ï¼ˆäº¿å…ƒï¼‰â‰¥</label>
        <input type="number" id="ai-mktcap" placeholder="0" step="1" oninput="genPrompt()">
      </div>
      <div class="input-group">
        <label>æœ€å¤§èµ„äº§è´Ÿå€ºç‡ï¼ˆ%ï¼‰â‰¤</label>
        <input type="number" id="ai-dr" placeholder="50" step="1" value="50" oninput="genPrompt()">
      </div>
    </div>

    <hr class="divider">

    <div class="input-group">
      <label>ç”Ÿæˆçš„ AI æç¤ºè¯ï¼ˆå¯ç›´æ¥ç¼–è¾‘ï¼‰</label>
      <div class="prompt-box">
        <textarea id="ai-prompt" rows="10"></textarea>
        <button class="copy-btn" onclick="copyPrompt()">å¤åˆ¶</button>
      </div>
    </div>

    <button class="btn" onclick="genPrompt()">ğŸ”„ é‡æ–°ç”Ÿæˆæç¤ºè¯</button>
  </div>

  <div class="card">
    <div class="card-title">ä½¿ç”¨è¯´æ˜</div>
    <div style="font-size:12px;color:var(--muted);font-family:var(--mono);line-height:1.8;">
      1. è°ƒæ•´ä¸Šæ–¹æŒ‡æ ‡å‚æ•°<br>
      2. ç‚¹å‡»"é‡æ–°ç”Ÿæˆ"æˆ–è‡ªåŠ¨ç”Ÿæˆæç¤ºè¯<br>
      3. å¤åˆ¶æç¤ºè¯åˆ°ç‚’è‚¡è½¯ä»¶çš„AIå¯¹è¯æ¡†<br>
      4. é€‚ç”¨ï¼šåŒèŠ±é¡ºAIã€ä¸œæ–¹è´¢å¯ŒAIã€é€šè¾¾ä¿¡AIç­‰<br>
      <br>
      <span style="color:var(--accent);">æ ¼é›·å„å§†å»‰ä»·è‚¡æ ¸å¿ƒæ ‡å‡†ï¼š</span><br>
      â€¢ PE Ã— PB â‰¤ 22.5<br>
      â€¢ æµåŠ¨æ¯”ç‡ â‰¥ 2<br>
      â€¢ è‚¡ä»· &lt; æ¯è‚¡å‡€æµåŠ¨èµ„äº§ Ã— 2/3<br>
      â€¢ è¿ç»­ç›ˆåˆ© â‰¥ 5å¹´
    </div>
  </div>
</div>

<!-- Toast -->
<div class="toast" id="toast"></div>

<script>
// ===== State =====
const state = {
  eps: [], // [{year, value}]
  epsAvg: null,
};

// ===== Tab Switching =====
function switchTab(name) {
  document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
  document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
  document.getElementById('tab-' + name).classList.add('active');
  event.target.classList.add('active');

  if (name === 'iv') syncIVFromGlobal();
  if (name === 'ncav') syncNCAVFromGlobal();
  if (name === 'ai') genPrompt();
}

// ===== Toast =====
function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2000);
}

// ===== Sync all calculations when basic inputs change =====
function syncAll() {
  updateBasicCheck();
}

// ===== Basic Check =====
function updateBasicCheck() {
  const pe = parseFloat(document.getElementById('pe').value);
  const pb = parseFloat(document.getElementById('pb').value);
  const cr = parseFloat(document.getElementById('cr').value);
  const ca = parseFloat(document.getElementById('currentAssets').value);
  const tl = parseFloat(document.getElementById('totalLiab').value);
  const cl = parseFloat(document.getElementById('currentLiab').value);
  const ts = parseFloat(document.getElementById('totalShares').value);
  const price = parseFloat(document.getElementById('stockPrice').value);

  const checks = [];

  if (!isNaN(pe) && !isNaN(pb)) {
    const pepb = pe * pb;
    checks.push({ name: 'PE Ã— PB', val: pepb.toFixed(2), pass: pepb <= 22.5, hint: 'â‰¤ 22.5' });
  }
  if (!isNaN(cr)) {
    checks.push({ name: 'æµåŠ¨æ¯”ç‡', val: cr.toFixed(2), pass: cr >= 2, hint: 'â‰¥ 2.0' });
  }
  if (!isNaN(ca) && !isNaN(tl) && !isNaN(ts) && ts > 0 && !isNaN(price)) {
    const ncavPerShare = (ca - tl) / ts;
    const threshold = ncavPerShare * 2/3;
    checks.push({ name: 'è‚¡ä»· vs 2/3 NCAV/è‚¡', val: price.toFixed(2) + ' vs ' + threshold.toFixed(2), pass: price < threshold, hint: 'è‚¡ä»·åº”æ›´ä½' });
  }
  if (!isNaN(pe)) {
    checks.push({ name: 'å¸‚ç›ˆç‡', val: pe.toFixed(1), pass: pe <= 15, hint: 'â‰¤ 15' });
  }
  if (!isNaN(pb)) {
    checks.push({ name: 'å¸‚å‡€ç‡', val: pb.toFixed(2), pass: pb <= 1.5, hint: 'â‰¤ 1.5' });
  }

  if (checks.length === 0) {
    document.getElementById('basic-check').innerHTML = '<div style="font-size:12px;color:var(--muted);font-family:var(--mono);padding:8px 0;">è¯·åœ¨ä¸Šæ–¹è¾“å…¥æŒ‡æ ‡æ•°æ®</div>';
    return;
  }

  let html = '';
  checks.forEach(c => {
    html += `<div class="metric-row">
      <span class="metric-name">${c.pass ? 'âœ…' : 'âŒ'} ${c.name} <span style="font-size:10px;color:var(--muted);">(${c.hint})</span></span>
      <span class="metric-val" style="color:${c.pass ? 'var(--green)' : 'var(--red)'}">${c.val}</span>
    </div>`;
  });

  const passCount = checks.filter(c => c.pass).length;
  const grade = passCount === checks.length ? 'å…¨éƒ¨è¾¾æ ‡' : passCount >= checks.length * 0.7 ? 'åŸºæœ¬è¾¾æ ‡' : 'è°¨æ…å…³æ³¨';
  const gradeColor = passCount === checks.length ? 'var(--green)' : passCount >= checks.length * 0.7 ? 'var(--yellow)' : 'var(--red)';

  html += `<div style="margin-top:10px;padding:8px;background:rgba(0,0,0,0.3);border-radius:2px;text-align:center;">
    <span style="font-size:11px;color:var(--muted);font-family:var(--mono);">ç»¼åˆè¯„ä¼°ï¼š</span>
    <span style="color:${gradeColor};font-family:var(--sans);font-weight:700;font-size:14px;">${grade}</span>
    <span style="font-size:11px;color:var(--muted);font-family:var(--mono);"> (${passCount}/${checks.length})</span>
  </div>`;

  document.getElementById('basic-check').innerHTML = html;
}

// ===== EPS =====
function addEPS() {
  const year = document.getElementById('epsYear').value.trim() || (new Date().getFullYear() - state.eps.length).toString();
  const val = parseFloat(document.getElementById('epsInput').value);
  if (isNaN(val)) { showToast('è¯·è¾“å…¥æœ‰æ•ˆçš„EPSæ•°å€¼'); return; }

  state.eps.push({ year, value: val, id: Date.now() });
  document.getElementById('epsYear').value = '';
  document.getElementById('epsInput').value = '';
  renderEPS();
}

document.getElementById('epsInput').addEventListener('keydown', e => {
  if (e.key === 'Enter') addEPS();
});

function removeEPS(id) {
  state.eps = state.eps.filter(e => e.id !== id);
  renderEPS();
}

function renderEPS() {
  const list = document.getElementById('eps-list');
  if (state.eps.length === 0) {
    list.innerHTML = '<li style="font-size:12px;color:var(--muted);font-family:var(--mono);padding:8px 0;">æš‚æ— æ•°æ®ï¼Œè¯·æ·»åŠ EPSè®°å½•</li>';
    document.getElementById('eps-result').style.display = 'none';
    state.epsAvg = null;
    return;
  }

  list.innerHTML = state.eps.map(e =>
    `<li class="eps-item">
      <small>${e.year}</small>
      <span>Â¥ ${e.value.toFixed(3)}</span>
      <button class="btn btn-danger btn-sm" onclick="removeEPS(${e.id})" style="padding:3px 8px;font-size:11px;">âœ•</button>
    </li>`
  ).join('');

  const values = state.eps.map(e => e.value);
  const avg = values.reduce((a, b) => a + b, 0) / values.length;
  const sorted = [...values].sort((a, b) => a - b);
  const median = sorted.length % 2 === 0
    ? (sorted[sorted.length/2-1] + sorted[sorted.length/2]) / 2
    : sorted[Math.floor(sorted.length/2)];

  state.epsAvg = avg;

  document.getElementById('eps-result').style.display = 'block';
  document.getElementById('eps-avg-display').textContent = 'Â¥ ' + avg.toFixed(4);
  document.getElementById('eps-count-badge').textContent = values.length + ' å¹´';
  document.getElementById('eps-max').textContent = Math.max(...values).toFixed(3);
  document.getElementById('eps-min').textContent = Math.min(...values).toFixed(3);
  document.getElementById('eps-median').textContent = median.toFixed(3);
  document.getElementById('eps-count').textContent = values.length;
}

// ===== IV =====
function syncIVFromGlobal() {
  const price = parseFloat(document.getElementById('stockPrice').value);
  if (!isNaN(price) && price > 0) document.getElementById('ivPrice').value = price;
  if (state.epsAvg !== null) document.getElementById('ivEps').value = state.epsAvg.toFixed(4);
  calcIV();
}

function calcIV() {
  const eps = parseFloat(document.getElementById('ivEps').value);
  const mult = parseFloat(document.getElementById('ivMultiple').value) || 13;
  const price = parseFloat(document.getElementById('ivPrice').value);

  const result = document.getElementById('iv-result');

  if (isNaN(eps) || isNaN(price)) { result.style.display = 'none'; return; }

  const iv = eps * mult;
  const safetyLine = price * 1.5;

  document.getElementById('iv-value').textContent = 'Â¥ ' + iv.toFixed(2);
  document.getElementById('iv-safety').textContent = 'Â¥ ' + safetyLine.toFixed(2);

  const ratio = iv / safetyLine;
  let badge, detail;
  if (ratio >= 1.5) {
    badge = '<span class="badge badge-high">ğŸ”¥ é«˜</span>';
    detail = `å†…åœ¨ä»·å€¼è¶…å‡ºå®‰å…¨è¾¹é™… ${((ratio-1)*100).toFixed(0)}%ï¼Œæå…·å¸å¼•åŠ›`;
  } else if (ratio >= 1.0) {
    badge = '<span class="badge badge-high">âœ… é«˜</span>';
    detail = `å†…åœ¨ä»·å€¼(${iv.toFixed(2)}) > å®‰å…¨è¾¹é™…(${safetyLine.toFixed(2)})ï¼Œå®‰å…¨`;
  } else if (ratio >= 0.75) {
    badge = '<span class="badge badge-mid">âš¡ ä¸­ç­‰</span>';
    detail = `å†…åœ¨ä»·å€¼æ¥è¿‘å®‰å…¨è¾¹é™…ï¼Œå·®è· ${((1-ratio)*100).toFixed(0)}%`;
  } else {
    badge = '<span class="badge badge-low">âš ï¸ ä½</span>';
    detail = `å†…åœ¨ä»·å€¼ä¸è¶³å®‰å…¨è¾¹é™…çš„75%ï¼Œå®‰å…¨è¾¹é™…ä¸è¶³`;
  }

  document.getElementById('iv-badge').innerHTML = badge;
  document.getElementById('iv-detail').textContent = detail;
  result.style.display = 'block';
}

// ===== NCAV =====
function syncNCAVFromGlobal() {
  const ca = document.getElementById('currentAssets').value;
  const tl = document.getElementById('totalLiab').value;
  const cl = document.getElementById('currentLiab').value;
  const ts = document.getElementById('totalShares').value;
  const price = document.getElementById('stockPrice').value;

  if (ca) document.getElementById('ncavCA').value = ca;
  if (tl) document.getElementById('ncavTL').value = tl;
  if (cl) document.getElementById('ncavCL').value = cl;
  if (ts) document.getElementById('ncavShares').value = ts;
  if (price) document.getElementById('ncavPrice').value = price;
  calcNCAV();
}

function calcNCAV() {
  const ca = parseFloat(document.getElementById('ncavCA').value);
  const tl = parseFloat(document.getElementById('ncavTL').value);
  const cl = parseFloat(document.getElementById('ncavCL').value);
  const ts = parseFloat(document.getElementById('ncavShares').value);
  const price = parseFloat(document.getElementById('ncavPrice').value);

  const result = document.getElementById('ncav-result');
  const summary = document.getElementById('summary-card');

  if (isNaN(ca) || isNaN(tl)) { result.style.display = 'none'; return; }

  const ncav = ca - tl;
  const ncavPerShare = (isNaN(ts) || ts === 0) ? null : ncav / ts;
  const ncavPerShare2 = (!isNaN(cl) && !isNaN(ts) && ts > 0) ? (ca - cl) / ts : null;

  document.getElementById('ncav-total').textContent = ncav.toFixed(2);
  document.getElementById('ncav-per').textContent = ncavPerShare !== null ? 'Â¥ ' + ncavPerShare.toFixed(3) : 'â€”';

  let badge2 = '', detail2 = '', badge3 = '', detail3 = '';

  if (!isNaN(price) && ncavPerShare !== null) {
    const twoThirds = ncavPerShare * 2/3;
    document.getElementById('ncav-two3').textContent = 'Â¥ ' + twoThirds.toFixed(3);

    const discount = (twoThirds - price) / twoThirds;
    const ratio = price / twoThirds;
    document.getElementById('ncav-ratio').textContent = (price / ncavPerShare).toFixed(2) + 'x';

    if (price < twoThirds) {
      if (discount >= 0.3) {
        badge2 = '<span class="badge badge-high">ğŸ”¥ é«˜</span>';
        detail2 = `ä½äº2/3çº¿ ${(discount*100).toFixed(0)}%`;
      } else if (discount >= 0.1) {
        badge2 = '<span class="badge badge-high">âœ… é«˜</span>';
        detail2 = `ä½äº2/3çº¿ ${(discount*100).toFixed(0)}%`;
      } else {
        badge2 = '<span class="badge badge-mid">âš¡ ä¸­ç­‰</span>';
        detail2 = `ç•¥ä½äº2/3çº¿`;
      }
    } else if (ratio <= 1.1) {
      badge2 = '<span class="badge badge-mid">âš¡ ä¸­ç­‰</span>';
      detail2 = `æ¥è¿‘2/3çº¿ï¼Œé«˜ ${((ratio-1)*100).toFixed(0)}%`;
    } else {
      badge2 = '<span class="badge badge-low">âš ï¸ ä½</span>';
      detail2 = `é«˜äº2/3çº¿ ${((ratio-1)*100).toFixed(0)}%`;
    }
  } else {
    document.getElementById('ncav-two3').textContent = 'â€”';
    document.getElementById('ncav-ratio').textContent = 'â€”';
  }

  if (!isNaN(price) && ncavPerShare2 !== null) {
    const diff = ncavPerShare2 - price;
    const ratio = ncavPerShare2 / price;
    if (ncavPerShare2 > price) {
      if (ratio >= 1.5) {
        badge3 = '<span class="badge badge-high">ğŸ”¥ é«˜</span>';
        detail3 = `æ¯è‚¡NCAVè¶…è‚¡ä»· ${((ratio-1)*100).toFixed(0)}%`;
      } else if (ratio >= 1.2) {
        badge3 = '<span class="badge badge-high">âœ… é«˜</span>';
        detail3 = `é«˜å‡ºè‚¡ä»· ${((ratio-1)*100).toFixed(0)}%`;
      } else {
        badge3 = '<span class="badge badge-mid">âš¡ ä¸­ç­‰</span>';
        detail3 = `ç•¥é«˜äºè‚¡ä»· ${((ratio-1)*100).toFixed(0)}%`;
      }
    } else if (ratio >= 0.9) {
      badge3 = '<span class="badge badge-mid">âš¡ ä¸­ç­‰</span>';
      detail3 = `æ¥è¿‘è‚¡ä»·ï¼Œå·® ${((1-ratio)*100).toFixed(0)}%`;
    } else {
      badge3 = '<span class="badge badge-low">âš ï¸ ä½</span>';
      detail3 = `ä½äºè‚¡ä»· ${((1-ratio)*100).toFixed(0)}%`;
    }
  }

  document.getElementById('ncav-badge2').innerHTML = badge2 || 'â€”';
  document.getElementById('ncav-detail2').textContent = detail2;
  document.getElementById('ncav-badge3').innerHTML = badge3 || 'â€”';
  document.getElementById('ncav-detail3').textContent = detail3;

  result.style.display = 'block';

  // Summary
  updateSummary(badge2, badge3);
}

function updateSummary(badge2, badge3) {
  const ivBadge = document.getElementById('iv-badge').innerHTML;
  const badges = [ivBadge, badge2, badge3].filter(b => b && b.length > 3);

  if (badges.length === 0) { document.getElementById('summary-card').style.display = 'none'; return; }

  const scoreHigh = badges.filter(b => b.includes('badge-high')).length;
  const scoreMid = badges.filter(b => b.includes('badge-mid')).length;
  const total = badges.length;

  let score, sub, color;
  if (scoreHigh === total) {
    score = 'A+'; sub = 'å…¨é¢é«˜ä»·å€¼ï¼Œæ ¼é›·å„å§†å¼ºçƒˆæ¨è'; color = 'var(--green)';
  } else if (scoreHigh >= total * 0.6) {
    score = 'A'; sub = 'é«˜ä»·å€¼ï¼Œå…·æœ‰å®‰å…¨è¾¹é™…'; color = 'var(--green)';
  } else if (scoreHigh + scoreMid >= total * 0.6) {
    score = 'B'; sub = 'ä¸­ç­‰ä»·å€¼ï¼Œå¯å…³æ³¨'; color = 'var(--yellow)';
  } else {
    score = 'C'; sub = 'ä»·å€¼ä¸è¶³ï¼Œå»ºè®®è§‚æœ›'; color = 'var(--red)';
  }

  document.getElementById('summary-score').textContent = score;
  document.getElementById('summary-score').style.color = color;
  document.getElementById('summary-sub').textContent = sub;
  document.getElementById('summary-card').style.display = 'block';
}

// ===== AI Prompt =====
function genPrompt() {
  const pe = document.getElementById('ai-pe').value || '10';
  const pb = document.getElementById('ai-pb').value || '1.5';
  const cr = document.getElementById('ai-cr').value || '2';
  const pepb = document.getElementById('ai-pepb').value || '22.5';
  const mktcap = document.getElementById('ai-mktcap').value;
  const dr = document.getElementById('ai-dr').value || '50';

  let prompt = `è¯·å¸®æˆ‘ä»Aè‚¡å¸‚åœºä¸­ç­›é€‰ç¬¦åˆæ ¼é›·å„å§†å»‰ä»·è‚¡ç­–ç•¥çš„è‚¡ç¥¨ï¼Œç­›é€‰æ¡ä»¶å¦‚ä¸‹ï¼š

ã€æ ¸å¿ƒä¼°å€¼æ¡ä»¶ã€‘
1. å¸‚ç›ˆç‡ï¼ˆPE/TTMï¼‰â‰¤ ${pe} å€
2. å¸‚å‡€ç‡ï¼ˆPBï¼‰â‰¤ ${pb} å€
3. PE Ã— PB ä¹˜ç§¯ â‰¤ ${pepb}ï¼ˆæ ¼é›·å„å§†å»‰ä»·æ ¸å¿ƒæŒ‡æ ‡ï¼‰

ã€è´¢åŠ¡å¥åº·æ¡ä»¶ã€‘
4. æµåŠ¨æ¯”ç‡ï¼ˆæµåŠ¨èµ„äº§/æµåŠ¨è´Ÿå€ºï¼‰â‰¥ ${cr}
5. èµ„äº§è´Ÿå€ºç‡ â‰¤ ${dr}%
6. è¿‘5å¹´è¿ç»­ç›ˆåˆ©ï¼Œä¸å­˜åœ¨äºæŸå¹´ä»½

ã€NCAVå®‰å…¨è¾¹é™…æ¡ä»¶ã€‘
7. å½“å‰è‚¡ä»· < æ¯è‚¡å‡€æµåŠ¨èµ„äº§ï¼ˆæµåŠ¨èµ„äº§-å…¨éƒ¨è´Ÿå€º/æ€»è‚¡æœ¬ï¼‰Ã— 2/3
   ï¼ˆå³è‚¡ä»·ä½äºå‡€æµåŠ¨èµ„äº§çš„66.7%ï¼‰

ã€æ’é™¤æ¡ä»¶ã€‘
- æ’é™¤STã€*STè‚¡ç¥¨
- æ’é™¤é‡‘èç±»è‚¡ç¥¨ï¼ˆé“¶è¡Œã€ä¿é™©ã€åˆ¸å•†ï¼‰
- æ’é™¤è¿‘ä¸€å¹´æœ‰é‡å¤§è¿è§„çš„å…¬å¸${mktcap ? `\n- å¸‚å€¼ â‰¥ ${mktcap} äº¿å…ƒ` : ''}

ã€è¾“å‡ºè¦æ±‚ã€‘
è¯·æŒ‰ç…§å®‰å…¨è¾¹é™…ä»é«˜åˆ°ä½æ’åˆ—ï¼Œæ¯åªè‚¡ç¥¨ç»™å‡ºï¼š
- è‚¡ç¥¨ä»£ç å’Œåç§°
- PEã€PBæ•°å€¼åŠPEÃ—PBä¹˜ç§¯
- æµåŠ¨æ¯”ç‡
- æ¯è‚¡å‡€æµåŠ¨èµ„äº§ä¸å½“å‰è‚¡ä»·å¯¹æ¯”
- ç®€è¦è¯´æ˜æ˜¯å¦ç¬¦åˆæ ¼é›·å„å§†å»‰ä»·è‚¡æ ‡å‡†

æ„Ÿè°¢ï¼`;

  document.getElementById('ai-prompt').value = prompt;
}

function copyPrompt() {
  const text = document.getElementById('ai-prompt').value;
  if (navigator.clipboard) {
    navigator.clipboard.writeText(text).then(() => showToast('âœ… æç¤ºè¯å·²å¤åˆ¶'));
  } else {
    document.getElementById('ai-prompt').select();
    document.execCommand('copy');
    showToast('âœ… æç¤ºè¯å·²å¤åˆ¶');
  }
}

// ===== Init =====
updateBasicCheck();
genPrompt();
renderEPS();
</script>
</body>
</html>
